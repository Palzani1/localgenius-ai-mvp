import{createBaseVNode as e,createElementBlock as t,createTextVNode as n,createVNode as r,defineComponent as i,handler as a,normalizeStyle as o,onMounted as s,openBlock as c,ref as l,resolveComponent as u,toDisplayString as d,unref as f,withCtx as p}from"./vscode-ByQLBi_r.js";import"./focus-trap-CSSWZImT.js";import"./tooltip-CVpAU6Sv.js";import"./isEqual-CdOvZtUE.js";import"./isArrayLikeObject-05TlFTR_.js";import"./merge-DTOcvLG1.js";import"./_baseIteratee-CSRzNRlS.js";import{ElTable as m,ElTableColumn as h}from"./table-RpKCEj1I.js";import"./isUndefined-Cqoojwy1.js";import"./click-outside-auYYsqs3.js";import"./checkbox-BaDld0em.js";import{ElTag as g}from"./tag-CWpNjs-a.js";const _={class:`flex items-center pl-2 my-1`},v={class:`text-lg font-bold mr-2`},y={class:`w-full bg-[--progressBar-background] rounded-md h-6 relative`},b={class:`absolute inset-0 flex items-center justify-center text-sm text-gray-200`},x={class:`w-full bg-[--progressBar-background] rounded-md h-6 relative`},S={class:`absolute inset-0 flex items-center justify-center text-sm text-gray-200`},C={class:`w-full bg-[--progressBar-background] rounded-md h-6 relative`},w={class:`absolute inset-0 flex items-center justify-center text-sm text-gray-200`};var T=i({__name:`esStatus`,setup(i){let T=l(0),E=l([]);s(()=>{a.on(`esStatus`,e=>{E.value=e}).on(`refresh_es_status`,()=>{a.emit(`esStatus`)}),a.emit(`esStatus`);let e=()=>{T.value=window.innerHeight-110};e(),window.addEventListener(`resize`,e)});let D=e=>{let t=parseInt(e.replace(`%`,``));return t>90?`var(--vscode-charts-red)`:t>60?`var(--vscode-charts-yellow)`:`var(--vscode-charts-green)`};return(i,s)=>{let l=u(`vsc-button`),O=u(`vsc-tooltip`),k=h,A=g,j=m;return c(),t(`div`,null,[e(`div`,_,[e(`div`,v,d(i.$t(`esStatus.node`)),1),r(O,{title:i.$t(`common.refresh`)},{default:p(()=>[r(l,{size:`micro`,icon:`codicon-refresh text-base`,onClick:s[0]||=e=>f(a).emit(`esStatus`)})]),_:1},8,[`title`])]),r(j,{data:E.value,height:T.value,border:``},{default:p(()=>[r(k,{prop:`ip`,label:i.$t(`esStatus.ip`),align:`left`,width:`120`},null,8,[`label`]),r(k,{prop:`name`,label:i.$t(`esStatus.name`),align:`left`,width:`120`},null,8,[`label`]),r(k,{prop:`isMain`,label:i.$t(`esStatus.master`),align:`center`,width:`120`},{default:p(({row:e})=>[r(A,{type:e.isMain?`success`:`info`,class:`mr-2`},{default:p(()=>[n(d(e.isMain?i.$t(`esStatus.yes`):i.$t(`esStatus.no`)),1)]),_:2},1032,[`type`])]),_:1},8,[`label`]),r(k,{prop:`heapPercent`,label:i.$t(`esStatus.heapUsage`),align:`center`,width:`120`},{default:p(({row:t})=>[e(`div`,y,[e(`div`,{class:`h-6 rounded-md`,style:o({width:t.heapPercent,backgroundColor:D(t.heapPercent)})},null,4),e(`div`,b,d(t.heapPercent),1)])]),_:1},8,[`label`]),r(k,{prop:`diskUsage`,label:i.$t(`esStatus.diskUsage`),align:`center`,width:`120`},{default:p(({row:t})=>[e(`div`,x,[e(`div`,{class:`h-6 rounded-md`,style:o({width:t.diskUsage,backgroundColor:D(t.diskUsage)})},null,4),e(`div`,S,d(t.diskUsage),1)])]),_:1},8,[`label`]),r(k,{prop:`cpuUsage`,label:i.$t(`esStatus.cpuUsage`),align:`center`,width:`120`},{default:p(({row:t})=>[e(`div`,C,[e(`div`,{class:`h-6 rounded-md`,style:o({width:t.cpuUsage,backgroundColor:D(t.cpuUsage)})},null,4),e(`div`,w,d(t.cpuUsage),1)])]),_:1},8,[`label`]),r(k,{prop:`load_5m`,label:i.$t(`esStatus.load5m`),align:`center`,width:`100`},null,8,[`label`]),r(k,{prop:`segments.count`,label:i.$t(`esStatus.segmentsCount`),align:`center`,width:`140`},null,8,[`label`]),r(k,{prop:`segments.memory`,label:i.$t(`esStatus.segmentsSize`),align:`center`,width:`140`},null,8,[`label`]),r(k,{prop:`disk.used`,label:`磁盘使用`,align:`center`,width:`100`}),r(k,{prop:`disk.total`,label:`磁盘总量`,align:`center`,width:`100`})]),_:1},8,[`data`,`height`])])}}}),E=T;export{E as default};