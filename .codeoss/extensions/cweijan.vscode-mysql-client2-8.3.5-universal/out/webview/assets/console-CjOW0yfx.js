import{Fragment as e,computed as t,createBaseVNode as n,createBlock as r,createCommentVNode as i,createElementBlock as a,createTextVNode as o,createVNode as s,defineComponent as c,handler as l,normalizeClass as u,onMounted as d,openBlock as f,ref as p,renderList as m,renderSlot as h,resolveComponent as g,toDisplayString as _,unref as v,withCtx as y}from"./vscode-ByQLBi_r.js";import"./focus-trap-CSSWZImT.js";import"./pinia-BVG5H93L.js";import{$t as b,ElInput as x,error as S,notify as C,success as w}from"./notify-DqF5XRqJ.js";import{__plugin_vue_export_helper_default as T}from"./_plugin-vue_export-helper-C32SG5g-.js";import"./defaultConfig-D4KV4pTk.js";import"./tooltip-CVpAU6Sv.js";import"./isEqual-CdOvZtUE.js";import{ElOption as E,ElSelect as D}from"./select-GJDkBNl3.js";import"./_baseFindIndex-Be7HZc5f.js";import"./_baseIteratee-CSRzNRlS.js";import"./isUndefined-Cqoojwy1.js";import"./use-empty-values-DiN_VYta.js";import"./click-outside-auYYsqs3.js";import{ElCheckbox as O}from"./checkbox-BaDld0em.js";import"./tag-CWpNjs-a.js";import{ElPopover as k}from"./popover-DP0GWF0c.js";import{useCoreStore as A}from"./coreStore-ZjFESOXF.js";const j={class:`card`};var M=c({__name:`Card`,props:{full:Boolean},setup(e){return(t,r)=>(f(),a(`div`,{class:u([`card-container`,{"card-container-full":e.full}])},[n(`div`,j,[h(t.$slots,`default`,{},void 0,!0)])],2))}}),N=T(M,[[`__scopeId`,`data-v-798fd364`]]);const P={style:{"min-width":`290px`}},F={style:{"font-size":`16px`,"font-weight":`700`,"padding-bottom":`0`,"padding-top":`8px`}},I={class:`mt-4 mb-2 flex items-center`},L={class:`mr-2`},R={class:`mt-4 mb-2`},z={class:`mr-2`},ee={class:`text-right mt-2`},te={class:`mt-4 mb-2`},ne={class:`mr-2`},re={class:`text-right mt-2`};var B=c({__name:`ConnectionConfig`,setup(e){let t=A(),i=p(!1),a=p(!1);l.on(`importConfirm`,()=>{i.value=!0}).on(`importWorkspaceConfirm`,()=>{a.value=!0}).on(`importResult`,({success:e,message:t,cancel:n})=>{if(i.value=!1,a.value=!1,n)return;let r=e?1e3:2e3,o=e?`success`:`error`;C({duration:r,message:t,type:o})});let c=e=>{l.emit(`editConfig`,e)},u=e=>{l.emit(`exportConfig`,{workspace:e===!0,withQueryFiles:t.uiState.consoleOption.exportWithAdditionalFiles})},d=(e={})=>{l.emit(`importConfig`,e)};return(e,l)=>{let p=g(`vsc-switch`),m=g(`vsc-button`),h=k,b=g(`pay-badge`);return f(),r(N,{class:`!mb-3`},{default:y(()=>[n(`div`,P,[n(`div`,F,_(e.$t(`console.configuration`)),1),n(`section`,I,[n(`span`,L,_(e.$t(`console.exportWithAdditionalFiles`))+`:`,1),s(p,{modelValue:v(t).uiState.consoleOption.exportWithAdditionalFiles,"onUpdate:modelValue":l[0]||=e=>v(t).uiState.consoleOption.exportWithAdditionalFiles=e,onChange:l[1]||=e=>v(t).upState(`consoleOption`)},null,8,[`modelValue`])]),n(`section`,R,[s(b,{left:0},{default:y(()=>[n(`span`,z,_(e.$t(`connect.current`))+`:`,1),s(m,{type:`secondary`,icon:`codicon-edit`,disabled:!v(t).isPay,size:`mini`,onClick:l[2]||=e=>c(!0)},null,8,[`disabled`]),s(m,{icon:`codicon-arrow-down`,disabled:!v(t).isPay,size:`mini`,onClick:l[3]||=e=>u(!0)},null,8,[`disabled`]),s(h,{placement:`top`,visible:a.value,trigger:`manual`,class:`ml-7px`},{reference:y(()=>[s(m,{icon:`codicon-arrow-up`,disabled:!v(t).isPay,size:`mini`,onClick:l[7]||=e=>d({workspace:!0})},null,8,[`disabled`])]),default:y(()=>[n(`p`,null,_(e.$t(`console.mergeConfirm`)),1),n(`div`,ee,[s(m,{type:`secondary`,size:`mini`,onClick:l[4]||=e=>a.value=!1},{default:y(()=>[o(_(e.$t(`common.cancel`)),1)]),_:1}),s(m,{onClick:l[5]||=e=>d({type:`merge`,workspace:!0})},{default:y(()=>[o(_(e.$t(`console.merge`)),1)]),_:1}),s(m,{onClick:l[6]||=e=>d({type:`overwrite`,workspace:!0})},{default:y(()=>[o(_(e.$t(`console.overwrite`)),1)]),_:1})])]),_:1},8,[`visible`])]),_:1})]),n(`section`,te,[n(`span`,ne,_(e.$t(`connect.global`))+`:`,1),s(m,{type:`secondary`,icon:`codicon-edit`,size:`mini`,onClick:c},{default:y(()=>[o(_(e.$t(`console.edit`)),1)]),_:1}),s(m,{icon:`codicon-arrow-down`,size:`mini`,onClick:u},{default:y(()=>[o(_(e.$t(`console.export`)),1)]),_:1}),s(h,{placement:`top`,visible:i.value,trigger:`manual`,class:`ml-7px`},{reference:y(()=>[s(m,{icon:`codicon-arrow-up`,size:`mini`,onClick:l[11]||=e=>d()},{default:y(()=>[o(_(e.$t(`console.import`)),1)]),_:1})]),default:y(()=>[n(`p`,null,_(e.$t(`console.mergeConfirm`)),1),n(`div`,re,[s(m,{type:`secondary`,onClick:l[8]||=e=>i.value=!1},{default:y(()=>[o(_(e.$t(`common.cancel`)),1)]),_:1}),s(m,{onClick:l[9]||=e=>d({type:`merge`})},{default:y(()=>[o(_(e.$t(`console.merge`)),1)]),_:1}),s(m,{onClick:l[10]||=e=>d({type:`overwrite`})},{default:y(()=>[o(_(e.$t(`console.overwrite`)),1)]),_:1})])]),_:1},8,[`visible`])])])]),_:1})}}}),V=B;const H={style:{"min-width":`290px`}},U={style:{"font-size":`16px`,"font-weight":`700`,"padding-bottom":`0`,"padding-top":`8px`}},W={key:0,class:`mt-2 flex items-center`},G={class:`mr-2`},K={style:{"margin-top":`5px`,"margin-bottom":`10px`}},q={style:{"text-align":`right`,margin:`0`}},J={style:{"margin-top":`5px`,"margin-bottom":`10px`}},Y={style:{"text-align":`right`,margin:`0`}},X={style:{"margin-top":`5px`,"margin-bottom":`10px`}},ie={style:{"text-align":`right`,margin:`0`}},ae={class:`mt-3`};var oe=c({__name:`CloudSync`,setup(e){let c=A(),u=p(!1),m=p(!1),h=p(!1),v=p(!1),b=p(null),w=p(!1),T=p(!1),E=p(!1),D=p(!1),O=p(null),j=t(()=>/(code-server|Cursor|Trae|Windsurf)/i.test(O.value));d(()=>{u.value=c.config.autoSync,l.on(`appName`,e=>{O.value=e}).on(`downloadConfirm`,()=>{E.value=!1,v.value=!0}).on(`downloadResult`,({success:e,message:t})=>{E.value=!1;let n=e?1e3:3e3,r=e?`success`:`error`;C({duration:n,message:t,type:r})}).on(`uploadRes`,({success:e,message:t})=>{w.value=!1;let n=e?1e3:3e3,r=e?`success`:`error`;C({duration:n,message:t,type:r})}).on(`removeRes`,({success:e,message:t})=>{T.value=!1;let n=e?1e3:3e3,r=e?`success`:`error`;C({duration:n,message:t,type:r})}).on(`syncKey`,e=>{(!b.value||D.value)&&(b.value=e,D.value=!1)})});let M=()=>{l.emit(`updateOption`,{name:`autoSync`,value:u.value})},P=()=>{l.emit(`open`,`https://github.com/cweijan/vscode-database-client/wiki/About-Cloud-Sync`)},F=()=>{D.value=!0,l.emit(`chooseSyncKey`)},I=()=>{if(!c.isPay){S(`Free account not support upload configuration!`);return}m.value=!1,w.value=!0,l.emit(`uploadConfig`,b.value)},L=()=>{h.value=!1,T.value=!0,l.emit(`removeConfig`)},R=e=>{if(!c.isPay){S(`Free account not support sync data!`);return}v.value=!1,E.value=!0,l.emit(`downloadConfig`,{keyPath:b.value,type:e})},z=e=>{if(!c.user){S(`Please log in to your account first.`),e.stopPropagation();return}};return(e,t)=>{let c=g(`vsc-button`),l=g(`vsc-switch`),d=k,p=x;return f(),r(N,{class:`!mb-3`},{default:y(()=>[n(`div`,H,[n(`div`,U,[o(_(e.$t(`console.sync`))+` `,1),s(c,{class:`ml-2`,size:`micro`,onClick:P},{default:y(()=>t[10]||=[n(`i`,{class:`el-icon-document`},null,-1)]),_:1})]),j.value?i(``,!0):(f(),a(`div`,W,[n(`label`,G,_(e.$t(`console.autoSync`)),1),s(l,{modelValue:u.value,"onUpdate:modelValue":t[0]||=e=>u.value=e,onChange:M},null,8,[`modelValue`])])),n(`div`,{class:`mt-2`,onClickCapture:z},[s(d,{placement:`top`,visible:h.value,trigger:`manual`},{reference:y(()=>[s(c,{type:`secondary`,size:`mini`,icon:`codicon-trash`,loading:T.value,onClick:t[2]||=e=>h.value=!0},{default:y(()=>[o(_(e.$t(`console.remove`)),1)]),_:1},8,[`loading`])]),default:y(()=>[n(`p`,K,_(e.$t(`console.removeConfirm`)),1),n(`div`,q,[s(c,{type:`secondary`,size:`mini`,onClick:t[1]||=e=>h.value=!1},{default:y(()=>[o(_(e.$t(`common.cancel`)),1)]),_:1}),s(c,{size:`mini`,onClick:L},{default:y(()=>[o(_(e.$t(`result.confirm`)),1)]),_:1})])]),_:1},8,[`visible`]),s(d,{placement:`top`,visible:m.value,trigger:`manual`,class:`ml-7px`},{reference:y(()=>[s(c,{icon:`codicon-cloud-upload`,size:`mini`,loading:w.value,onClick:t[4]||=e=>m.value=!0},{default:y(()=>[o(_(e.$t(`console.upload`)),1)]),_:1},8,[`loading`])]),default:y(()=>[n(`p`,J,_(e.$t(`console.uploadConfirm`)),1),n(`div`,Y,[s(c,{type:`secondary`,onClick:t[3]||=e=>m.value=!1},{default:y(()=>[o(_(e.$t(`common.cancel`)),1)]),_:1}),s(c,{onClick:I},{default:y(()=>[o(_(e.$t(`result.confirm`)),1)]),_:1})])]),_:1},8,[`visible`]),s(d,{placement:`top`,visible:v.value,trigger:`manual`,class:`ml-7px`},{reference:y(()=>[s(c,{icon:`codicon-cloud-download`,size:`mini`,loading:E.value,onClick:t[8]||=e=>R()},{default:y(()=>[o(_(e.$t(`console.download`)),1)]),_:1},8,[`loading`])]),default:y(()=>[n(`p`,X,_(e.$t(`console.mergeConfirm`)),1),n(`div`,ie,[s(c,{type:`secondary`,onClick:t[5]||=e=>v.value=!1},{default:y(()=>[o(_(e.$t(`common.cancel`)),1)]),_:1}),s(c,{onClick:t[6]||=e=>R(`merge`)},{default:y(()=>[o(_(e.$t(`console.merge`)),1)]),_:1}),s(c,{onClick:t[7]||=e=>R(`overwrite`)},{default:y(()=>[o(_(e.$t(`console.overwrite`)),1)]),_:1})])]),_:1},8,[`visible`]),n(`div`,ae,[s(p,{modelValue:b.value,"onUpdate:modelValue":t[9]||=e=>b.value=e,size:`small`,class:`!w-56`,placeholder:`Sync Encryption Key(Optional)`},null,8,[`modelValue`]),s(c,{icon:`codicon-file`,size:`mini`,class:`!ml-1 relative`,style:{top:`3px`},onClick:F})])],32)])]),_:1})}}}),se=oe;const ce={style:{"min-width":`290px`}},le={style:{"font-size":`16px`,"font-weight":`700`,"padding-bottom":`0`,"padding-top":`8px`}},ue={class:`mt-3 mb-2`},de={class:`mt-3 mb-1`};var fe=c({__name:`OtherOptions`,setup(e){let t=p(!1),i=()=>{w(`Width: ${window.innerWidth}, Height: ${window.innerHeight}`)},a=()=>{l.emit(`clearCache`)},c=()=>{l.emit(`open`,`https://github.com/cweijan/vscode-database-client/issues`)};return(e,t)=>{let i=g(`vsc-button`);return f(),r(N,null,{default:y(()=>[n(`div`,ce,[n(`div`,le,_(e.$t(`console.other`)),1),n(`div`,ue,[s(i,{icon:`codicon-chrome-close`,size:`mini`,onClick:t[0]||=e=>{v(l).emit(`closeAllConnections`)}},{default:y(()=>[o(_(e.$t(`toolbar.closeAllConnections`)),1)]),_:1})]),n(`div`,de,[s(i,{icon:`codicon-github-inverted`,size:`mini`,onClick:c},{default:y(()=>[o(_(e.$t(`toolbar.reportIssue`)),1)]),_:1}),s(i,{icon:`codicon-clear-all`,size:`mini`,onClick:a},{default:y(()=>[o(_(e.$t(`toolbar.clearCache`)),1)]),_:1})])])]),_:1})}}}),pe=fe,me=c({__name:`ConsoleSide`,setup(e){return(e,t)=>(f(),a(`div`,null,[s(V),s(se),s(pe)]))}}),he=me;const Z={editor:[`enableSQLVariable`,`enableEditorCodeLens`,`highlightSQLBlock`,`bindConnectionByActiveMark`],result:[`openResultsAsVertically`,`splitEditorWhenQuery`,`autoGetTableCount`],treeView:[`showSecurity`,`saveConnectionExpandedState`,`terminalLocation`],sql:[`escapedAllObjectName`,`rememberSQLVariables`,`capitalizeKeywordsWhenFormatting`,`autoPagingSQL`,`queryWithSchema`]};function Q(e,t){let n=Z[e];return t.filter(e=>n.includes(e.name)).sort((e,t)=>n.indexOf(e.name)-n.indexOf(t.name))}const $={escapedAllObjectName:[{value:`auto`,label:`Auto`},{value:`never`,label:`Never`},{value:`always`,label:`Always`}],terminalLocation:[{value:`Panel`,label:`Panel`},{value:`Editor`,label:`Editor`}]},ge={class:`flex flex-wrap justify-center console-container`},_e={class:`option-container`},ve={class:`option-title`},ye={class:`option-list`},be={key:0,class:`flex`},xe={class:`shrink-0`};var Se=c({__name:`console`,setup(c){let u=p([]),h=t(()=>[{title:b(`console.editorOptions`),options:Q(`editor`,u.value),tag:`dbclient-editor`},{title:b(`console.sqlOptions`),options:Q(`sql`,u.value),tag:`dbclient-sql-parser`},{title:b(`console.treeOptions`),options:Q(`treeView`,u.value)},{title:b(`console.resultOptions`),options:Q(`result`,u.value)}]);d(async()=>{l.emit(`options`).on(`options`,({options:e})=>{u.value=e}).on(`configSuccess`,e=>{C({message:e,type:`success`})}).on(`resetSuccess`,e=>{C({message:e,type:`success`}),l.emit(`options`)}).init()});let x=e=>{l.emit(`resetOption`,e)},S=e=>{let t=e.value;e.type==`boolean`&&(t=!e.value,e.value=t),l.emit(`updateOption`,{...e,value:t})};return(t,c)=>{let u=g(`vsc-button`),d=g(`vsc-tooltip`),p=E,C=D,w=O;return f(),a(`div`,ge,[s(he),n(`div`,_e,[(f(!0),a(e,null,m(h.value,(t,c)=>(f(),r(N,{key:c,style:{"max-width":`350px`,"min-width":`300px`}},{default:y(()=>[n(`div`,ve,_(t.title),1),s(d,{title:v(b)(`console.resetConfig`)},{default:y(()=>[s(u,{icon:`codicon-discard`,size:`micro`,onClick:e=>x(t.options)},null,8,[`onClick`])]),_:2},1032,[`title`]),t.tag?(f(),r(d,{key:0,title:`Show More Settings`},{default:y(()=>[s(u,{icon:`codicon-ellipsis`,size:`micro`,onClick:e=>v(l).emit(`openMoreSettings`,t.tag)},null,8,[`onClick`])]),_:2},1024)):i(``,!0),n(`div`,ye,[(f(!0),a(e,null,m(t.options,(t,c)=>(f(),a(`div`,{key:c,class:`option-item`},[v($)[t.name]?(f(),a(`div`,be,[n(`span`,xe,_(t.description),1),s(C,{modelValue:t.value,"onUpdate:modelValue":e=>t.value=e,class:`w-28`,size:`small`,onChange:e=>S(t)},{default:y(()=>[(f(!0),a(e,null,m(v($)[t.name],e=>(f(),r(p,{key:e.value,value:e.value,label:e.label},null,8,[`value`,`label`]))),128))]),_:2},1032,[`modelValue`,`onUpdate:modelValue`,`onChange`])])):t.type==`boolean`?(f(),r(w,{key:1,"model-value":t.value,onChange:e=>S(t)},{default:y(()=>[o(_(t.description),1)]),_:2},1032,[`model-value`,`onChange`])):i(``,!0)]))),128))])]),_:2},1024))),128))])])}}}),Ce=T(Se,[[`__scopeId`,`data-v-25cca18a`]]);export{Ce as default};