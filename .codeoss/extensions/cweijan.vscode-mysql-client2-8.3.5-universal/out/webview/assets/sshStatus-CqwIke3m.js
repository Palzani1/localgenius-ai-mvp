import{computed as e,createBaseVNode as t,createCommentVNode as n,createElementBlock as r,createTextVNode as i,createVNode as a,defineComponent as o,handler as s,openBlock as c,reactive as l,toDisplayString as u,unref as d,withDirectives as f}from"./vscode-ByQLBi_r.js";import{vShow as p}from"./focus-trap-CSSWZImT.js";import{$t as m,error as ee}from"./notify-DqF5XRqJ.js";import{BaseChartUtil as h,Doughnut as g,Line as _,LineChartData as v,LineChartUtil as y}from"./lineChartData-tBITVjWz.js";var b=class extends h{static getOption(e){return{cutout:45,responsive:!0,plugins:{title:{text:e,display:!0}}}}static formatPercent(e){return`${(e*100).toFixed(1)}%`}static getDoughnutData(e){return{datasets:[{data:[e,1-e],borderColor:[`rgb(94, 154, 239)`,`rgb(233, 233, 233)`],backgroundColor:[`rgb(94, 154, 239)`,`rgb(233, 233, 233)`]}]}}};const x={class:`status-container`},S={class:`info-container`},C={style:{display:`inline-block`,"margin-right":`50px`}},w={class:`info-title`},T={key:0},E={class:`info-col`},D=[`innerHTML`],O={class:`info-col`},k={class:`info-col`},A={class:`red`},j={key:1,class:`info-col`},M={style:{display:`inline-block`}},N={class:`info-title`},P={class:`info-col`},F={class:`info-col`},te={class:`info-col`},I=[`innerHTML`],L={class:`info-title`},R={class:`ring-graph-status`},z={class:`donut-inner`},B={class:`ring-graph-status`},V={class:`donut-inner`},H={class:`ring-graph-status`},U={class:`donut-inner`},W={class:`network-container`},G={class:`info-title`},K={style:{height:`300px`}};var q=o({__name:`sshStatus`,setup(o){let h=l({cpu:null,disk:null,memory:null,network:null}),q=l({serverType:`linux`,os:`Loading`,kernelVersion:`Loading`,arch:`x86_64`,hostname:`localhost`,upTime:`0`,diskUsage:{total:`0G`,used:`0G`,available:`0G`,usePercent:0},memoryUsage:{total:`0 GB`,used:`0 GB`,free:`0 MB`,usePercent:0},cpu:{name:``,clock:`0GHz`,logicCoreCount:`0`,usePercent:0},traffic:{labels:[],data1:[],data2:[],tooltips:[],lock:!1,previous:null}}),J=e(()=>q.serverType==`linux`),ne=e(()=>q.serverType!=`macos`),{formatPercent:Y,getDoughnutData:X}=b,Z=e(()=>X(q.cpu.usePercent)),Q=e(()=>X(q.memoryUsage.usePercent)),re=e(()=>X(q.diskUsage.usePercent)),$=new v,ie=$.toChartData();return s.on(`error`,()=>{ee(`SSH service connection failed!`)}).on(`serverType`,e=>{q.serverType=e}).on(`info`,e=>{Object.assign(q,e),h.memory||=setInterval(()=>s.emit(`memory`),3e3),q.serverType==`windows`?s.emit(`cpu`):(s.emit(`network`),h.network||=setInterval(()=>s.emit(`network`),1e3)),h.disk||=setInterval(()=>s.emit(`disk`),3e3),h.cpu||=setInterval(()=>s.emit(`cpu`),1e3)}).on(`cpu`,e=>{q.cpu.usePercent=e}).on(`disk`,e=>{q.diskUsage=e}).on(`memory`,e=>{q.memoryUsage=e}).on(`network`,e=>{$.addData(e)}).emit(`init`),(e,o)=>(c(),r(`div`,x,[t(`div`,S,[t(`div`,C,[t(`div`,w,u(d(m)(`sshStatus.systemInfo`))+`: `,1),q.upTime?(c(),r(`div`,T,u(d(m)(`sshStatus.runTime`))+`: `+u(q.upTime),1)):n(``,!0),t(`span`,E,[i(u(d(m)(`sshStatus.arch`))+`: `,1),t(`span`,{innerHTML:q.arch},null,8,D)]),t(`span`,O,u(d(m)(`sshStatus.hostname`))+`: `+u(q.hostname),1),t(`span`,k,[i(u(d(m)(`sshStatus.os`))+`: `,1),t(`span`,A,u(q.os),1)]),J.value?(c(),r(`span`,j,u(d(m)(`sshStatus.kernelVersion`))+`: `+u(q.kernelVersion),1)):n(``,!0)]),t(`div`,M,[t(`div`,N,u(d(m)(`sshStatus.cpuInfo`))+`: `,1),t(`div`,null,[t(`span`,P,u(d(m)(`sshStatus.cpuClock`))+`:`+u(q.cpu.clock),1),t(`span`,F,u(d(m)(`sshStatus.cpuCoreCount`))+`:`+u(q.cpu.logicCoreCount),1),t(`span`,te,[i(u(d(m)(`sshStatus.cpuName`))+`: `,1),t(`span`,{innerHTML:q.cpu.name},null,8,I)])])])]),t(`div`,null,[t(`div`,L,u(d(m)(`sshStatus.systemStatus`))+`: `,1),t(`div`,R,[a(d(g),{options:d(b).getOption(`CPU`),data:Z.value,style:{width:`160px`,height:`160px`}},null,8,[`options`,`data`]),i(` `+u(q.cpu.clock)+` `,1),t(`div`,z,u(d(Y)(q.cpu.usePercent)),1)]),t(`div`,B,[a(d(g),{options:d(b).getOption(d(m)(`sshStatus.memory`)),data:Q.value,style:{width:`160px`,height:`160px`}},null,8,[`options`,`data`]),i(` `+u(q.memoryUsage.used)+`/`+u(q.memoryUsage.total)+` `,1),t(`div`,V,u(d(Y)(q.memoryUsage.usePercent)),1)]),t(`div`,H,[a(d(g),{options:d(b).getOption(d(m)(`sshStatus.disk`)),data:re.value,style:{width:`160px`,height:`160px`}},null,8,[`options`,`data`]),i(` `+u(q.diskUsage.used)+`/`+u(q.diskUsage.total)+` `,1),t(`div`,U,u(d(Y)(q.diskUsage.usePercent)),1)])]),f(t(`div`,W,[t(`div`,G,u(d(m)(`sshStatus.network`))+`: `,1),t(`div`,K,[a(d(_),{style:{height:`100%`},options:d(y).getOption(!0),data:d(ie)},null,8,[`options`,`data`])])],512),[[p,J.value]])]))}}),J=q;export{J as default};