import{computed as e,effectScope as t,getCurrentScope as n,hasInjectionContext as r,inject as i,isReactive as a,isRef as o,markRaw as s,nextTick as c,onScopeDispose as l,reactive as u,ref as d,toRaw as f,toRef as p,toRefs as m,watch as h}from"./vscode-ByQLBi_r.js";let g;const _=e=>g=e,v=Symbol();function y(e){return e&&typeof e==`object`&&Object.prototype.toString.call(e)===`[object Object]`&&typeof e.toJSON!=`function`}var b;(function(e){e.direct=`direct`,e.patchObject=`patch object`,e.patchFunction=`patch function`})(b||={});const x=typeof window<`u`,S=(()=>typeof window==`object`&&window.window===window?window:typeof self==`object`&&self.self===self?self:typeof global==`object`&&global.global===global?global:typeof globalThis==`object`?globalThis:{HTMLElement:null})();function C(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([`ï»¿`,e],{type:e.type}):e}function w(e,t,n){let r=new XMLHttpRequest;r.open(`GET`,e),r.responseType=`blob`,r.onload=function(){k(r.response,t,n)},r.onerror=function(){console.error(`could not download file`)},r.send()}function T(e){let t=new XMLHttpRequest;t.open(`HEAD`,e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function E(e){try{e.dispatchEvent(new MouseEvent(`click`))}catch{let t=document.createEvent(`MouseEvents`);t.initMouseEvent(`click`,!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}const D=typeof navigator==`object`?navigator:{userAgent:``},O=(()=>/Macintosh/.test(D.userAgent)&&/AppleWebKit/.test(D.userAgent)&&!/Safari/.test(D.userAgent))(),k=x?typeof HTMLAnchorElement<`u`&&`download`in HTMLAnchorElement.prototype&&!O?A:`msSaveOrOpenBlob`in D?j:M:()=>{};function A(e,t=`download`,n){let r=document.createElement(`a`);r.download=t,r.rel=`noopener`,typeof e==`string`?(r.href=e,r.origin===location.origin?E(r):T(r.href)?w(e,t,n):(r.target=`_blank`,E(r))):(r.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(r.href)},4e4),setTimeout(function(){E(r)},0))}function j(e,t=`download`,n){if(typeof e==`string`)if(T(e))w(e,t,n);else{let t=document.createElement(`a`);t.href=e,t.target=`_blank`,setTimeout(function(){E(t)})}else navigator.msSaveOrOpenBlob(C(e,n),t)}function M(e,t,n,r){if(r||=open(``,`_blank`),r&&(r.document.title=r.document.body.innerText=`downloading...`),typeof e==`string`)return w(e,t,n);let i=e.type===`application/octet-stream`,a=/constructor/i.test(String(S.HTMLElement))||`safari`in S,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a||O)&&typeof FileReader<`u`){let t=new FileReader;t.onloadend=function(){let e=t.result;if(typeof e!=`string`)throw r=null,Error(`Wrong reader.result type`);e=o?e:e.replace(/^data:[^;]*;/,`data:attachment/file;`),r?r.location.href=e:location.assign(e),r=null},t.readAsDataURL(e)}else{let t=URL.createObjectURL(e);r?r.location.assign(t):location.href=t,r=null,setTimeout(function(){URL.revokeObjectURL(t)},4e4)}}const{assign:N}=Object;function P(){let e=t(!0),n=e.run(()=>d({})),r=[],i=[],a=s({install(e){_(a),a._a=e,e.provide(v,a),e.config.globalProperties.$pinia=a,i.forEach(e=>r.push(e)),i=[]},use(e){return this._a?r.push(e):i.push(e),this},_p:r,_a:null,_e:e,_s:new Map,state:n});return a}const F=()=>{};function I(e,t,r,i=F){e.push(t);let a=()=>{let n=e.indexOf(t);n>-1&&(e.splice(n,1),i())};return!r&&n()&&l(a),a}function L(e,...t){e.slice().forEach(e=>{e(...t)})}const R=e=>e(),z=Symbol(),B=Symbol();function V(e,t){for(let n in e instanceof Map&&t instanceof Map?t.forEach((t,n)=>e.set(n,t)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e),t){if(!t.hasOwnProperty(n))continue;let r=t[n],i=e[n];y(i)&&y(r)&&e.hasOwnProperty(n)&&!o(r)&&!a(r)?e[n]=V(i,r):e[n]=r}return e}const H=Symbol();function U(e){return!y(e)||!e.hasOwnProperty(H)}const{assign:W}=Object;function G(e){return!!(o(e)&&e.effect)}function K(t,n,r,i){let{state:a,actions:o,getters:c}=n,l=r.state.value[t],u;function d(){l||(r.state.value[t]=a?a():{});let n=m(r.state.value[t]);return W(n,o,Object.keys(c||{}).reduce((n,i)=>(n[i]=s(e(()=>{_(r);let e=r._s.get(t);return c[i].call(e,e)})),n),{}))}return u=q(t,d,n,r,i,!0),u}function q(e,n,r={},i,l,p){let m,g=W({actions:{}},r),v={deep:!0},y,x,S=[],C=[],w,T=i.state.value[e];!p&&!T&&(i.state.value[e]={});let E=d({}),D;function O(t){let n;y=x=!1,typeof t==`function`?(t(i.state.value[e]),n={type:b.patchFunction,storeId:e,events:w}):(V(i.state.value[e],t),n={type:b.patchObject,payload:t,storeId:e,events:w});let r=D=Symbol();c().then(()=>{D===r&&(y=!0)}),x=!0,L(S,n,i.state.value[e])}let k=p?function(){let{state:e}=r,t=e?e():{};this.$patch(e=>{W(e,t)})}:F;function A(){m.stop(),S=[],C=[],i._s.delete(e)}let j=(t,n=``)=>{if(z in t)return t[B]=n,t;let r=function(){_(i);let n=Array.from(arguments),a=[],o=[];function s(e){a.push(e)}function c(e){o.push(e)}L(C,{args:n,name:r[B],store:P,after:s,onError:c});let l;try{l=t.apply(this&&this.$id===e?this:P,n)}catch(e){throw L(o,e),e}return l instanceof Promise?l.then(e=>(L(a,e),e)).catch(e=>(L(o,e),Promise.reject(e))):(L(a,l),l)};return r[z]=!0,r[B]=n,r},M=s({actions:{},getters:{},state:[],hotState:E}),N={_p:i,$id:e,$onAction:I.bind(null,C),$patch:O,$reset:k,$subscribe(t,n={}){let r=I(S,t,n.detached,()=>a()),a=m.run(()=>h(()=>i.state.value[e],r=>{(n.flush===`sync`?x:y)&&t({storeId:e,type:b.direct,events:w},r)},W({},v,n)));return r},$dispose:A},P=u(N);i._s.set(e,P);let H=i._a&&i._a.runWithContext||R,K=H(()=>i._e.run(()=>(m=t()).run(()=>n({action:j}))));for(let t in K){let n=K[t];if(o(n)&&!G(n)||a(n))p||(T&&U(n)&&(o(n)?n.value=T[t]:V(n,T[t])),i.state.value[e][t]=n);else if(typeof n==`function`){let e=j(n,t);K[t]=e,g.actions[t]=n}}return W(P,K),W(f(P),K),Object.defineProperty(P,`$state`,{get:()=>i.state.value[e],set:e=>{O(t=>{W(t,e)})}}),i._p.forEach(e=>{W(P,m.run(()=>e({store:P,app:i._a,pinia:i,options:g})))}),T&&p&&r.hydrate&&r.hydrate(P.$state,T),y=!0,x=!0,P}function J(e,t,n){let a,o=typeof t==`function`;a=o?n:t;function s(n,s){let c=r();n||=c?i(v,null):null,n&&_(n),n=g,n._s.has(e)||(o?q(e,t,a,n):K(e,a,n));let l=n._s.get(e);return l}return s.$id=e,s}function Y(t){let n=f(t),r={};for(let i in n){let s=n[i];s.effect?r[i]=e({get:()=>t[i],set(e){t[i]=e}}):(o(s)||a(s))&&(r[i]=p(t,i))}return r}export{P as createPinia,J as defineStore,Y as storeToRefs};